<!DOCTYPE html> <meta charset=utf-8  /> <meta name=viewport  content="width=device-width, initial-scale=1.0" /><meta name=generator  content="Docutils 0.17.1: http://docutils.sourceforge.net/" /> <meta name=viewport  content="width=device-width,initial-scale=1"> <meta http-equiv=x-ua-compatible  content="ie=edge"> <meta name="lang:clipboard.copy" content="Copy to clipboard"> <meta name="lang:clipboard.copied" content="Copied to clipboard"> <meta name="lang:search.language" content=en > <meta name="lang:search.pipeline.stopwords" content=True > <meta name="lang:search.pipeline.trimmer" content=True > <meta name="lang:search.result.none" content="No matching documents"> <meta name="lang:search.result.one" content="1 matching document"> <meta name="lang:search.result.other" content="# matching documents"> <meta name="lang:search.tokenizer" content="[\s\-]+"> <link href="https://fonts.gstatic.com/" rel=preconnect  crossorigin> <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel=stylesheet > <style> body, input { font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif } code, kbd, pre { font-family: "Roboto Mono", "Courier New", Courier, monospace } </style> <link rel=stylesheet  href="../../_static/stylesheets/application.css"/> <link rel=stylesheet  href="../../_static/stylesheets/application-palette.css"/> <link rel=stylesheet  href="../../_static/stylesheets/application-fixes.css"/> <link rel=stylesheet  href="../../_static/fonts/material-icons.css"/> <meta name=theme-color  content="#2196f3"> <script src="../../_static/javascripts/modernizr.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XX133829453-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-XX133829453-1'); </script> <title>Numpy Arrays: The Workhorse of Data Science &#8212; Practical Data Science</title> <link rel=stylesheet  type="text/css" href="../../_static/pygments.css" /> <link rel=stylesheet  type="text/css" href="../../_static/material.css" /> <script data-url_root="../../" id=documentation_options  src="../../_static/documentation_options.js"></script> <script src="../../_static/jquery.js"></script> <script src="../../_static/underscore.js"></script> <script src="../../_static/doctools.js"></script> <script crossorigin=anonymous  integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script> <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script> <script defer=defer  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> <link rel="shortcut icon" href="../../_static/mids_logo.svg"/> <link rel=index  title=Index  href="../../genindex.html" /> <link rel=search  title=Search  href="../../search.html" /> <body dir=ltr data-md-color-primary=blue-grey data-md-color-accent=blue> <svg class=md-svg > <defs data-children-count=0 > <svg xmlns="http://www.w3.org/2000/svg" width=416  height=448  viewBox="0 0 416 448" id=__github ><path fill=currentColor  d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle  data-md-toggle=drawer  type=checkbox  id=__drawer > <input class=md-toggle  data-md-toggle=search  type=checkbox  id=__search > <label class=md-overlay  data-md-component=overlay  for=__drawer ></label> <a href="#30_numpy/10_vectors/10_why_numpy" tabindex=1  class=md-skip > Skip to content </a> <header class=md-header  data-md-component=header > <nav class="md-header-nav md-grid"> <div class="md-flex navheader"> <div class="md-flex__cell md-flex__cell--shrink"> <a href="../../index.html" title="Practical Data Science" class="md-header-nav__button md-logo"> <img src="../../_static/mids_logo.svg" height=26  alt="Practical Data Science logo"> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer ></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title > <span class=md-header-nav__topic >Practical Data Science</span> <span class=md-header-nav__topic > Numpy Arrays: The Workhorse of Data Science </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search ></label> <div class=md-search  data-md-component=search  role=dialog > <label class=md-search__overlay  for=__search ></label> <div class=md-search__inner  role=search > <form class=md-search__form  action="../../search.html" method=get  name=search > <input type=text  class=md-search__input  name=q  placeholder=""Search"" autocapitalize=off  autocomplete=off  spellcheck=false  data-md-component=query  data-md-state=active > <label class="md-icon md-search__icon" for=__search ></label> <button type=reset  class="md-icon md-search__icon" data-md-component=reset  tabindex=-1 > &#xE5CD; </button> </form> <div class=md-search__output > <div class=md-search__scrollwrap  data-md-scrollfix> <div class=md-search-result  data-md-component=result > <div class=md-search-result__meta > Type to start searching </div> <ol class=md-search-result__list ></ol> </div> </div> </div> </div> </div> </div> <script src="../../_static/javascripts/version_dropdown.js"></script> <script> var json_loc = "../../"versions.json"", target_loc = "../../../", text = "Versions"; $( document ).ready( add_version_dropdown(json_loc, target_loc, text)); </script> </div> </nav> </header> <div class=md-container > <nav class=md-tabs  data-md-component=tabs > <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list > <li class=md-tabs__item ><a href="../../index.html" class=md-tabs__link >Home</a> <li class=md-tabs__item ><a href="../../class_schedule.html" class=md-tabs__link >Class Schedule</a> <li class=md-tabs__item ><a href="../../topic_list.html" class=md-tabs__link >Topic List</a> <li class=md-tabs__item ><a href="https://www.nickeubank.com" class=md-tabs__link >About The Author</a> </ul> </div> </nav> <main class=md-main > <div class="md-main__inner md-grid" data-md-component=container > <div class="md-sidebar md-sidebar--primary" data-md-component=navigation > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--primary" data-md-level=0 > <label class="md-nav__title md-nav__title--site" for=__drawer > <a href="../../index.html" title="Practical Data Science" class="md-nav__button md-logo"> <img src="../../_static/mids_logo.svg" alt=" logo" width=48  height=48 > </a> <a href="../../index.html" title="Practical Data Science">Practical Data Science</a> </label> <ul class=md-nav__list > <li class=md-nav__item > <a href="../../class_schedule.html" class=md-nav__link >Class Schedule</a> <li class=md-nav__item > <a href="../../autograder_guidelines.html" class=md-nav__link >Autograder Guidelines</a> <li class=md-nav__item > <a href="../../not_a_mids_student.html" class=md-nav__link >Not a MIDS Student?</a> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--secondary"> <label class=md-nav__title  for=__toc >"Contents"</label> <ul class=md-nav__list  data-md-scrollfix=""> <li class=md-nav__item ><a href="#30-numpy-10-vectors-10-why-numpy--page-root" class=md-nav__link >Numpy Arrays: The Workhorse of Data Science</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#A-Little-History" class=md-nav__link >A Little History</a> <li class=md-nav__item ><a href="#The-numpy-array" class=md-nav__link >The numpy array</a> <li class=md-nav__item ><a href="#Using-numpy" class=md-nav__link >Using numpy</a> <li class=md-nav__item ><a href="#The-Speed-of-numpy" class=md-nav__link >The Speed of numpy</a> </ul> </nav> </ul> </nav> </div> </div> </div> <div class=md-content > <article class="md-content__inner md-typeset" role=main > <style> /* CSS for nbsphinx extension */ /* remove conflicting styling from Sphinx themes */ div.nbinput.container div.prompt *, div.nboutput.container div.prompt *, div.nbinput.container div.input_area pre, div.nboutput.container div.output_area pre, div.nbinput.container div.input_area .highlight, div.nboutput.container div.output_area .highlight { border: none; padding: 0; margin: 0; box-shadow: none; } div.nbinput.container > div[class*=highlight], div.nboutput.container > div[class*=highlight] { margin: 0; } div.nbinput.container div.prompt *, div.nboutput.container div.prompt * { background: none; } div.nboutput.container div.output_area .highlight, div.nboutput.container div.output_area pre { background: unset; } div.nboutput.container div.output_area div.highlight { color: unset; /* override Pygments text color */ } /* avoid gaps between output lines */ div.nboutput.container div[class*=highlight] pre { line-height: normal; } /* input/output containers */ div.nbinput.container, div.nboutput.container { display: -webkit-flex; display: flex; align-items: flex-start; margin: 0; width: 100%; } @media (max-width: 540px) { div.nbinput.container, div.nboutput.container { flex-direction: column; } } /* input container */ div.nbinput.container { padding-top: 5px; } /* last container */ div.nblast.container { padding-bottom: 5px; } /* input prompt */ div.nbinput.container div.prompt pre { color: #307FC1; } /* output prompt */ div.nboutput.container div.prompt pre { color: #BF5B3D; } /* all prompts */ div.nbinput.container div.prompt, div.nboutput.container div.prompt { width: 4.5ex; padding-top: 5px; position: relative; user-select: none; } div.nbinput.container div.prompt > div, div.nboutput.container div.prompt > div { position: absolute; right: 0; margin-right: 0.3ex; } @media (max-width: 540px) { div.nbinput.container div.prompt, div.nboutput.container div.prompt { width: unset; text-align: left; padding: 0.4em; } div.nboutput.container div.prompt.empty { padding: 0; } div.nbinput.container div.prompt > div, div.nboutput.container div.prompt > div { position: unset; } } /* disable scrollbars on prompts */ div.nbinput.container div.prompt pre, div.nboutput.container div.prompt pre { overflow: hidden; } /* input/output area */ div.nbinput.container div.input_area, div.nboutput.container div.output_area { -webkit-flex: 1; flex: 1; overflow: auto; } @media (max-width: 540px) { div.nbinput.container div.input_area, div.nboutput.container div.output_area { width: 100%; } } /* input area */ div.nbinput.container div.input_area { border: 1px solid #e0e0e0; border-radius: 2px; /*background: #f5f5f5;*/ } /* override MathJax center alignment in output cells */ div.nboutput.container div[class*=MathJax] { text-align: left !important; } /* override sphinx.ext.imgmath center alignment in output cells */ div.nboutput.container div.math p { text-align: left; } /* standard error */ div.nboutput.container div.output_area.stderr { background: #fdd; } /* ANSI colors */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-default-inverse-fg { color: #FFFFFF; } .ansi-default-inverse-bg { background-color: #000000; } .ansi-bold { font-weight: bold; } .ansi-underline { text-decoration: underline; } div.nbinput.container div.input_area div[class*=highlight] > pre, div.nboutput.container div.output_area div[class*=highlight] > pre, div.nboutput.container div.output_area div[class*=highlight].math, div.nboutput.container div.output_area.rendered_html, div.nboutput.container div.output_area > div.output_javascript, div.nboutput.container div.output_area:not(.rendered_html) > img{ padding: 5px; margin: 0; } /* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */ div.nbinput.container div.input_area > div[class^='highlight'], div.nboutput.container div.output_area > div[class^='highlight']{ overflow-y: hidden; } /* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */ .prompt .copybtn { display: none; } /* Some additional styling taken form the Jupyter notebook CSS */ .jp-RenderedHTMLCommon table, div.rendered_html table { border: none; border-collapse: collapse; border-spacing: 0; color: black; font-size: 12px; table-layout: fixed; } .jp-RenderedHTMLCommon thead, div.rendered_html thead { border-bottom: 1px solid black; vertical-align: bottom; } .jp-RenderedHTMLCommon tr, .jp-RenderedHTMLCommon th, .jp-RenderedHTMLCommon td, div.rendered_html tr, div.rendered_html th, div.rendered_html td { text-align: right; vertical-align: middle; padding: 0.5em 0.5em; line-height: normal; white-space: normal; max-width: none; border: none; } .jp-RenderedHTMLCommon th, div.rendered_html th { font-weight: bold; } .jp-RenderedHTMLCommon tbody tr:nth-child(odd), div.rendered_html tbody tr:nth-child(odd) { background: #f5f5f5; } .jp-RenderedHTMLCommon tbody tr:hover, div.rendered_html tbody tr:hover { background: rgba(66, 165, 245, 0.2); } </style> <section id="Numpy-Arrays:-The-Workhorse-of-Data-Science"> <h1 id=30-numpy-10-vectors-10-why-numpy--page-root >Numpy Arrays: The Workhorse of Data Science<a class=headerlink  href="#30-numpy-10-vectors-10-why-numpy--page-root" title="Permalink to this headline">¶</a></h1> <p>The time has come for us to introduce the workhorse that makes nearly all data science in Python possible: the <code class="docutils literal notranslate"><span class=pre >numpy</span></code> <code class="docutils literal notranslate"><span class=pre >array</span></code>.</p> <section id=A-Little-History > <h2 id=A-Little-History >A Little History<a class=headerlink  href="#A-Little-History" title="Permalink to this headline">¶</a></h2> <p>Python was invented in the early 1990s to be an accessible, general-purpose programming language. As part of that philosophy, it was designed to minimize the amount of “developer time” (the time a programmer actually spends writing code) required to complete a project, rather than to minimize “running time” (the amount of time a program runs). This was done, in part, because at the time programmers who needed code that ran fast already had access to the C and Fortran programming languages, languages which remain the gold standards for speed even today, but which are relatively hard to work with.</p> <p>The design choice was clearly a good one, as it explains much of the success of Python today—yes, Python may <em>run</em> more slowly than C for most things, but many programmers are happy to accept that in exchange for being able to write and iterate their Python code much faster than they could in other languages.</p> <p>Starting in the late 1990s and early 2000s, however, a group of developers realized that it might be useful for programmers working in Python to have access to libraries they could do high-performance numerical computing—doing matrix multiplication, factoring, generating random numbers, etc. They hoped that this would allow data analysts (this was long before the term “data science” was a thing) to benefit from the ease of use and interactivity of Python when writing code while also making it possible to get speed when they needed it for big mathematical operations. And so to make this possible, they created a new third-party library that could be loaded into Python called Numeric, which later became <code class="docutils literal notranslate"><span class=pre >numpy</span></code>.</p> </section> <section id=The-numpy-array > <h2 id=The-numpy-array >The numpy array<a class=headerlink  href="#The-numpy-array" title="Permalink to this headline">¶</a></h2> <p>While numpy includes lots of functions and ancillary data structures, <strong>the</strong> heart of the numpy library is the <em>numpy array.</em></p> <p>Like the lists and dictionaries we’ve already seen, arrays are an object for collecting and organizing lots of individual records – what’s sometimes referred to as a <em>collection</em>. Unlike lists and dictionaries, however, which can store nearly anything you want to put into them, arrays are <em>homogeneously typed</em>, meaning that each array is designed to store a specific type of data, and can <em>only</em> store that type of data. An array of integers, for example, can only store integers, and an array of floating point numbers can only hold floating point numbers.</p> <p>While this may initially seem like it makes arrays inferior to more flexible collections, like lists, there is a major upside: this specialization makes arrays <em>fast</em>—as in orders of magnitude faster—and it is this speed that makes data science in Python possible.</p> <p>And as we’ll see in future readings, arrays make possible a style of programming called <em>vectorized programming</em> that not only tends to be very fast, but also makes the kind of programming we do a lot in data science especially concise and easy to read. And if you know any linear algebra, you’ll also see that this way of programming results in code that looks more like the math of linear algebra, which many data scientists find really appealing.</p> <p>Arrays come in many forms, but there are two specific types of arrays whose names will be familiar: when an array organizes its data along a single dimension, we call it a <em>vector</em>, and when its data is organized along two dimensions (like how data is laid out in an Excel spreadsheet), we call it a <em>matrix</em>.</p> <p>Most of the time when doing data science, these are actually the only two kinds of arrays you are likely to encounter, and so they will be the focus of the following several readings. However, as we’ll see towards the end of this course, there isn’t really anything different about working with arrays in three, four, or more dimensions; everything you learn in these first few lessons will generalize easily to all arrays.</p> </section> <section id=Using-numpy > <h2 id=Using-numpy >Using numpy<a class=headerlink  href="#Using-numpy" title="Permalink to this headline">¶</a></h2> <p>In past lessons, we saw that not all Python functionality is accessible when you first start a Python session—some functionality is located in libraries we have to import to use. For example, in a previous module, we used the command <code class="docutils literal notranslate"><span class=pre >import</span> <span class=pre >math</span></code> to gain access to functions like <code class="docutils literal notranslate"><span class=pre >sqrt()</span></code>.</p> <p>Numpy basically works the same way – we can gain access to its functionality by typing <code class="docutils literal notranslate"><span class=pre >import</span> <span class=pre >numpy</span></code>:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[1]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=kn >import</span> <span class=nn >numpy</span>

<span class=n >numpy</span><span class=o >.</span><span class=n >array</span><span class=p >([</span><span class=mi >1</span><span class=p >,</span> <span class=mi >2</span><span class=p >,</span> <span class=mi >3</span><span class=p >])</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[1]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
array([1, 2, 3])
</pre></div></div> </div> <p>But there are two things that are a little different about numpy from the libraries we’ve used before.</p> <p>First, numpy is what’s called a <em>third-party library</em>, meaning that you don’t automatically get it when you install Python. Instead, you have to install the numpy library before it can be used. numpy has already been installed in the version of Python you have access to here on Coursera, but if you are working with Python on another computer, you’ll need to install it using a tool like <code class="docutils literal notranslate"><span class=pre >pip</span></code> or <code class="docutils literal notranslate"><span class=pre >conda</span></code>—we have a reading on installing third-party packages here.</p> <p>Second, because we will be working with numpy a lot, we don’t want to have to type out <code class="docutils literal notranslate"><span class=pre >numpy.</span></code> every time we access a numpy function. Instead, it is common practice to give numpy an alias (a different name) by typing: <code class="docutils literal notranslate"><span class=pre >import</span> <span class=pre >numpy</span> <span class=pre >as</span> <span class=pre >np</span></code>. Once we do that, we can access functions from the numpy library with the prefix <code class="docutils literal notranslate"><span class=pre >np.</span></code> instead of <code class="docutils literal notranslate"><span class=pre >numpy.</span></code>:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[2]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>

<span class=n >np</span><span class=o >.</span><span class=n >array</span><span class=p >([</span><span class=mi >1</span><span class=p >,</span> <span class=mi >2</span><span class=p >,</span> <span class=mi >3</span><span class=p >])</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[2]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
array([1, 2, 3])
</pre></div></div> </div> <p>And now that we know how to access the functionality of numpy, let’s turn to using it to create vectors!</p> </section> <section id=The-Speed-of-numpy > <h2 id=The-Speed-of-numpy >The Speed of numpy<a class=headerlink  href="#The-Speed-of-numpy" title="Permalink to this headline">¶</a></h2> <p>As noted above, one of the main reasons that numpy is the foundation of data science in Python is that it does numerical computations incredibly efficiently both in the sense that it is fast and also in the sense that it is good at not using up all of your computer’s memory. In a later lesson, we’ll talk more about the exact reasons that numpy is so fast, but before we dive into learning numpy, it’s worth taking a moment to illustrate just how impressive numpy is!</p> <p>To illustrate, let’s create a list with all the numbers from one to one hundred million and sum them up. We will do this twice—once using regular Python tools, and once using numpy. Don’t worry about the fact that some of the code that .all()e use isn’t familiar yet—we will learn all of these numpy tools soon—the goal is just to give you a basic demonstration of why we’re going through the trouble of learning this library. First, let’s make a regular list with all the numbers from 1 to 100,000,000 and a numpy array with all the numbers from 1 to 100,000,000:</p> <div class="nbinput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[3]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=c1 ># Make a regular Python list</span>
<span class=c1 ># with all the numbers up to one hundred million</span>

<span class=c1 ># Remember `range` doesn't include the last number,</span>
<span class=c1 ># so I have to go up to 100_000_001 to actually get all</span>
<span class=c1 ># the numbers from 1 to 100_000_000</span>

<span class=n >one_to_one_hund_mil_list</span> <span class=o >=</span> <span class=nb >list</span><span class=p >(</span><span class=nb >range</span><span class=p >(</span><span class=mi >1</span><span class=p >,</span> <span class=mi >100_000_001</span><span class=p >))</span>

<span class=c1 ># Now make a numpy vector</span>
<span class=c1 ># with all the numbers up to one hundred million</span>

<span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>

<span class=n >one_to_one_hund_mil_vector</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >arange</span><span class=p >(</span><span class=mi >1</span><span class=p >,</span> <span class=mi >100_000_001</span><span class=p >)</span>
</pre></div> </div> </div> <p>Now let’s add up all of the numbers in each of these two objects and keep track of how long it takes to do this with regular Python and with numpy.</p> <p><strong>Note:</strong> to measure how long each of these operations takes, we will use the <code class="docutils literal notranslate"><span class=pre >time()</span></code> function from the <code class="docutils literal notranslate"><span class=pre >time</span></code> module in the Python standard library. When run, <code class="docutils literal notranslate"><span class=pre >time()</span></code> returns the current time measured in the number of seconds that have passed since January 1st, 1970 UTC – something called “<a class="reference external" href="https://en.wikipedia.org/wiki/Unix_time">Epoch time or UNIX time</a>.” (<em>Why</em> is time measured using the number of seconds since 1970?! 🤷‍♂️ Basically it turns out to be helpful for all computers to measure time against a common benchmark, and 1970 is around the time when the UNIX operating system came online.) So if we record the time before we start running our code, then record the time when the code finishes, then the difference is the amount of time (in seconds) that the code took to run. This isn’t the way to do really accurate code timing – for that you would want to run your code over and over and calculate the average running time – but it’s more than sufficient for our purposes!</p> <p><strong>Note 2:</strong> In the following examples, I print my output using <em>f-strings</em>. f-strings were added to Python in 2017, and provide an alternate syntax for inserting the value of a variable into a string (“string interpolation”). They work the same way as the <code class="docutils literal notranslate"><span class=pre >.format()</span></code> method of string interpolation (e.g. <code class="docutils literal notranslate"><span class=pre >"my</span> <span class=pre >name</span> <span class=pre >is</span> <span class=pre >{}".format(name)</span></code>), but instead of putting <code class="docutils literal notranslate"><span class=pre >.format()</span></code> at the end of the string, you simply prefix your string with an <code class="docutils literal notranslate"><span class=pre >f</span></code> or <code class="docutils literal notranslate"><span class=pre >F</span></code> and place the name of the variable you want to be interpolated inside the curly braces (e.g. <code class="docutils literal notranslate"><span class=pre >f"my</span> <span class=pre >name</span> <span class=pre >is</span> <span class=pre >{name}"</span></code>). And as with the <code class="docutils literal notranslate"><span class=pre >.format()</span></code> method, you can also tell Python how to format the string with codes you pass inside the <code class="docutils literal notranslate"><span class=pre >{}</span></code>—for example, the <code class="docutils literal notranslate"><span class=pre >:.3f</span></code> that follows <code class="docutils literal notranslate"><span class=pre >python_total</span></code> below tells Python that it should print the number with only three decimal values. There’s a <a class="reference external" href="https://docs.python.org/3/library/string.html#formatspec">whole mini-language</a> for telling Python how to convert numbers into strings, but for now it’s enough to know that the colon and stuff that follows are just for formatting.</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[4]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=kn >import</span> <span class=nn >time</span>

<span class=n >start</span> <span class=o >=</span> <span class=n >time</span><span class=o >.</span><span class=n >time</span><span class=p >()</span>

<span class=n >total</span> <span class=o >=</span> <span class=mi >0</span>
<span class=k >for</span> <span class=n >i</span> <span class=ow >in</span> <span class=n >one_to_one_hund_mil_list</span><span class=p >:</span>
    <span class=n >total</span> <span class=o >=</span> <span class=n >total</span> <span class=o >+</span> <span class=n >i</span>
    <span class=k >pass</span>

<span class=n >end</span> <span class=o >=</span> <span class=n >time</span><span class=o >.</span><span class=n >time</span><span class=p >()</span>
<span class=n >python_total</span> <span class=o >=</span> <span class=n >end</span> <span class=o >-</span> <span class=n >start</span>
<span class=nb >print</span><span class=p >(</span><span class=sa >f</span><span class=s2 >" Python took </span><span class=si >{</span><span class=n >python_total</span><span class=si >:</span><span class=s2 >.3f</span><span class=si >}</span><span class=s2 > seconds"</span><span class=p >)</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
 Python took 33.495 seconds
</pre></div></div> </div> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[5]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >start</span> <span class=o >=</span> <span class=n >time</span><span class=o >.</span><span class=n >time</span><span class=p >()</span>

<span class=c1 ># Now we sum up all the numbers in the array</span>
<span class=c1 ># using the numpy `sum` function.</span>
<span class=n >np</span><span class=o >.</span><span class=n >sum</span><span class=p >(</span><span class=n >one_to_one_hund_mil_vector</span><span class=p >)</span>

<span class=n >end</span> <span class=o >=</span> <span class=n >time</span><span class=o >.</span><span class=n >time</span><span class=p >()</span>
<span class=n >numpy_total</span> <span class=o >=</span> <span class=n >end</span> <span class=o >-</span> <span class=n >start</span>
<span class=nb >print</span><span class=p >(</span><span class=sa >f</span><span class=s2 >"Numpy took </span><span class=si >{</span><span class=n >numpy_total</span><span class=si >:</span><span class=s2 >.3f</span><span class=si >}</span><span class=s2 > seconds"</span><span class=p >)</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
Numpy took 1.812 seconds
</pre></div></div> </div> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[6]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=nb >print</span><span class=p >(</span><span class=sa >f</span><span class=s2 >"Numpy was </span><span class=si >{</span><span class=n >python_total</span><span class=w > </span><span class=o >/</span><span class=w > </span><span class=n >numpy_total</span><span class=si >:</span><span class=s2 >.1f</span><span class=si >}</span><span class=s2 >x faster!"</span><span class=p >)</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
Numpy was 18.5x faster!
</pre></div></div> </div> <p>Yup… and that’s why we use numpy! (Note regular, non-numpy Python would be able to do this more quickly using the Python <code class="docutils literal notranslate"><span class=pre >sum()</span></code> function instead of writing our own loop, but even then numpy would be <em>substantially</em> faster.)</p> <p>But that’s not all – regular Python required <em>much</em> more memory to store its list of numbers than was required by numpy:</p> <div class="nbinput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[7]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=kn >from</span> <span class=nn >pympler</span> <span class=kn >import</span> <span class=n >asizeof</span>

<span class=c1 ># `asizeof.asizeof()` gets the size of an object</span>
<span class=c1 ># and all of its contents in bytes, so we'll</span>
<span class=c1 ># divide it's output by one billion to get</span>
<span class=c1 ># the value in gigabytes.</span>

<span class=n >list_size_in_gb</span> <span class=o >=</span> <span class=n >asizeof</span><span class=o >.</span><span class=n >asizeof</span><span class=p >(</span><span class=n >one_to_one_hund_mil_list</span><span class=p >)</span> <span class=o >/</span> <span class=mi >1_000_000_000</span>
<span class=n >vector_size_in_gb</span> <span class=o >=</span> <span class=n >asizeof</span><span class=o >.</span><span class=n >asizeof</span><span class=p >(</span><span class=n >one_to_one_hund_mil_vector</span><span class=p >)</span> <span class=o >/</span> <span class=mi >1_000_000_000</span>
</pre></div> </div> </div> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[8]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=nb >print</span><span class=p >(</span><span class=sa >f</span><span class=s2 >"The Python list of numbers took up </span><span class=si >{</span><span class=n >list_size_in_gb</span><span class=si >:</span><span class=s2 >.2f</span><span class=si >}</span><span class=s2 > GB of RAM"</span><span class=p >)</span>
<span class=nb >print</span><span class=p >(</span><span class=sa >f</span><span class=s2 >"The numpy vector of numbers took up </span><span class=si >{</span><span class=n >vector_size_in_gb</span><span class=si >:</span><span class=s2 >.2f</span><span class=si >}</span><span class=s2 > GB of RAM"</span><span class=p >)</span>
<span class=nb >print</span><span class=p >(</span>
    <span class=sa >f</span><span class=s2 >"That means the Python list took up </span><span class=si >{</span><span class=n >list_size_in_gb</span><span class=o >/</span><span class=n >vector_size_in_gb</span><span class=si >:</span><span class=s2 >.0f</span><span class=si >}</span><span class=s2 >x "</span>
    <span class=s2 >"as much space as the numpy vector!"</span>
<span class=p >)</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
The Python list of numbers took up 4.00 GB of RAM
The numpy vector of numbers took up 0.80 GB of RAM
That means the Python list took up 5x as much space as the numpy vector!
</pre></div></div> </div> <p>This is, of course, a toy example; if all we wanted to do as data scientists was sum up the contents of a couple vectors, it wouldn’t be worth learning numpy just to save eight seconds. But of course, that’s <em>not</em> what we do in data science – we work with data sets that not only have millions of rows, but also hundreds or thousands of columns. And we’re not just trying to sum them up; we are inverting and multiplying full matrices over and over, and running millions of calculations to estimate derivatives and evaluate objective functions. As a result, even with numpy, we are often doing tasks that take minutes, hours, or days.</p> <p>As data scientists, we often do computations and manipulations that take minutes, hours, or days. But without numpy, those same tasks would take hours, days, or even months. And that’s assuming you could even load your data in the first place!</p> <p>And so <em>that</em> is why we are learning numpy!</p> </section> </section> </article> </div> </div> </main> </div> <footer class=md-footer > <div class=md-footer-nav > <nav class="md-footer-nav__inner md-grid"> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright > <div class=md-footer-copyright__highlight > &#169; Copyright 2021, Nick Eubank. </div> Created using <a href="http://www.sphinx-doc.org/">Sphinx</a> 4.5.0. and <a href="https://github.com/bashtage/sphinx-material/">Material for Sphinx</a> </div> </div> </div> </footer> <script src="../../_static/javascripts/application.js"></script> <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>