<!DOCTYPE html> <meta charset=utf-8  /> <meta name=viewport  content="width=device-width, initial-scale=1.0" /><meta name=generator  content="Docutils 0.17.1: http://docutils.sourceforge.net/" /> <meta name=viewport  content="width=device-width,initial-scale=1"> <meta http-equiv=x-ua-compatible  content="ie=edge"> <meta name="lang:clipboard.copy" content="Copy to clipboard"> <meta name="lang:clipboard.copied" content="Copied to clipboard"> <meta name="lang:search.language" content=en > <meta name="lang:search.pipeline.stopwords" content=True > <meta name="lang:search.pipeline.trimmer" content=True > <meta name="lang:search.result.none" content="No matching documents"> <meta name="lang:search.result.one" content="1 matching document"> <meta name="lang:search.result.other" content="# matching documents"> <meta name="lang:search.tokenizer" content="[\s\-]+"> <link href="https://fonts.gstatic.com/" rel=preconnect  crossorigin> <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel=stylesheet > <style> body, input { font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif } code, kbd, pre { font-family: "Roboto Mono", "Courier New", Courier, monospace } </style> <link rel=stylesheet  href="../_static/stylesheets/application.css"/> <link rel=stylesheet  href="../_static/stylesheets/application-palette.css"/> <link rel=stylesheet  href="../_static/stylesheets/application-fixes.css"/> <link rel=stylesheet  href="../_static/fonts/material-icons.css"/> <meta name=theme-color  content="#2196f3"> <script src="../_static/javascripts/modernizr.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XX133829453-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-XX133829453-1'); </script> <title>Debugging Python in VS Code &#8212; Practical Data Science</title> <link rel=stylesheet  type="text/css" href="../_static/pygments.css" /> <link rel=stylesheet  type="text/css" href="../_static/material.css" /> <script data-url_root="../" id=documentation_options  src="../_static/documentation_options.js"></script> <script src="../_static/jquery.js"></script> <script src="../_static/underscore.js"></script> <script src="../_static/doctools.js"></script> <script crossorigin=anonymous  integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script> <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script> <script defer=defer  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> <link rel="shortcut icon" href="../_static/mids_logo.svg"/> <link rel=index  title=Index  href="../genindex.html" /> <link rel=search  title=Search  href="../search.html" /> <body dir=ltr data-md-color-primary=blue-grey data-md-color-accent=blue> <svg class=md-svg > <defs data-children-count=0 > <svg xmlns="http://www.w3.org/2000/svg" width=416  height=448  viewBox="0 0 416 448" id=__github ><path fill=currentColor  d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle  data-md-toggle=drawer  type=checkbox  id=__drawer > <input class=md-toggle  data-md-toggle=search  type=checkbox  id=__search > <label class=md-overlay  data-md-component=overlay  for=__drawer ></label> <a href="#20_programming_concepts/20_debugging_in_vscode" tabindex=1  class=md-skip > Skip to content </a> <header class=md-header  data-md-component=header > <nav class="md-header-nav md-grid"> <div class="md-flex navheader"> <div class="md-flex__cell md-flex__cell--shrink"> <a href="../index.html" title="Practical Data Science" class="md-header-nav__button md-logo"> <img src="../_static/mids_logo.svg" height=26  alt="Practical Data Science logo"> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer ></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title > <span class=md-header-nav__topic >Practical Data Science</span> <span class=md-header-nav__topic > Debugging Python in VS Code </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search ></label> <div class=md-search  data-md-component=search  role=dialog > <label class=md-search__overlay  for=__search ></label> <div class=md-search__inner  role=search > <form class=md-search__form  action="../search.html" method=get  name=search > <input type=text  class=md-search__input  name=q  placeholder=Search  autocapitalize=off  autocomplete=off  spellcheck=false  data-md-component=query  data-md-state=active > <label class="md-icon md-search__icon" for=__search ></label> <button type=reset  class="md-icon md-search__icon" data-md-component=reset  tabindex=-1 > &#xE5CD; </button> </form> <div class=md-search__output > <div class=md-search__scrollwrap  data-md-scrollfix> <div class=md-search-result  data-md-component=result > <div class=md-search-result__meta > Type to start searching </div> <ol class=md-search-result__list ></ol> </div> </div> </div> </div> </div> </div> <script src="../_static/javascripts/version_dropdown.js"></script> <script> var json_loc = "../"versions.json"", target_loc = "../../", text = "Versions"; $( document ).ready( add_version_dropdown(json_loc, target_loc, text)); </script> </div> </nav> </header> <div class=md-container > <nav class=md-tabs  data-md-component=tabs > <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list > <li class=md-tabs__item ><a href="../index.html" class=md-tabs__link >Home</a> <li class=md-tabs__item ><a href="../class_schedule.html" class=md-tabs__link >Class Schedule</a> <li class=md-tabs__item ><a href="../topic_list.html" class=md-tabs__link >Topic List</a> <li class=md-tabs__item ><a href="https://www.nickeubank.com" class=md-tabs__link >About The Author</a> </ul> </div> </nav> <main class=md-main > <div class="md-main__inner md-grid" data-md-component=container > <div class="md-sidebar md-sidebar--primary" data-md-component=navigation > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--primary" data-md-level=0 > <label class="md-nav__title md-nav__title--site" for=__drawer > <a href="../index.html" title="Practical Data Science" class="md-nav__button md-logo"> <img src="../_static/mids_logo.svg" alt=" logo" width=48  height=48 > </a> <a href="../index.html" title="Practical Data Science">Practical Data Science</a> </label> <ul class=md-nav__list > <li class=md-nav__item > <a href="../class_schedule.html" class=md-nav__link >Class Schedule</a> <li class=md-nav__item > <a href="../autograder_guidelines.html" class=md-nav__link >Autograder Guidelines</a> <li class=md-nav__item > <a href="../not_a_mids_student.html" class=md-nav__link >Not a MIDS Student?</a> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--secondary"> <label class=md-nav__title  for=__toc >Contents</label> <ul class=md-nav__list  data-md-scrollfix=""> <li class=md-nav__item ><a href="#20-programming-concepts-20-debugging-in-vscode--page-root" class=md-nav__link >Debugging Python in VS Code</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#0.-Preliminaries" class=md-nav__link >0. Preliminaries</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#1.-VS-Code-Debugger-for-.py-files" class=md-nav__link >1. VS Code Debugger for <code class="docutils literal notranslate"><span class=pre >.py</span></code> files</a> <li class=md-nav__item ><a href="#2.-VS-Code-Debugger-for-.ipynb-files-(Jupyter-notebooks)" class=md-nav__link >2. VS Code Debugger for <code class="docutils literal notranslate"><span class=pre >.ipynb</span></code> files (Jupyter notebooks)</a> </ul> </nav> <li class=md-nav__item ><a href="#Debugging-Summary" class=md-nav__link >Debugging Summary</a> </ul> </nav> </ul> </nav> </div> </div> </div> <div class=md-content > <article class="md-content__inner md-typeset" role=main > <section id=Debugging-Python-in-VS-Code > <h1 id=20-programming-concepts-20-debugging-in-vscode--page-root >Debugging Python in VS Code<a class=headerlink  href="#20-programming-concepts-20-debugging-in-vscode--page-root" title="Permalink to this headline">¶</a></h1> <p>As noted in our <a class="reference external" href=10_debugging_in_vscode.ipynb >previous reading</a>, when working with more complicated programs, we often need something more sophisticated than <code class="docutils literal notranslate"><span class=pre >print()</span></code> to understand why our code isn’t working. And for that, we have debuggers!</p> <p>In this reading, we’ll talk about the Python Debugger in VS Code, and in particular:</p> <ol class="arabic simple"> <li><p>Debugging <code class="docutils literal notranslate"><span class=pre >.py</span></code> files with the built in debugger</p> <li><p>Debugging <code class="docutils literal notranslate"><span class=pre >.ipynb</span></code> files (Jupyter notebooks) with debugging tools</p> </ol> <section id=0.-Preliminaries > <h2 id=0.-Preliminaries >0. Preliminaries<a class=headerlink  href="#0.-Preliminaries" title="Permalink to this headline">¶</a></h2> <p>Before we get started, we have to make sure your VS Code environment is properly setup. Here’s a quick checklist to make sure you are ready to go:</p> <ul class=simple > <li><p><strong>Install VS Code, Python, and the Python VS Code extension</strong>. Make sure you have Python installed on your system and the Python VS Code extension is also installed. You can install the VS Code Python extension by going to the Extensions Marketplace in VS Code (#1 below) and searching for “Python”, then installing the Python extension (#2 below).</p> <li><p><strong>Make sure the terminal is visible</strong>.If the terminal pane (#3 below) is not visible, click terminal-&gt; new terminal. You’ll use this to view output and will want to make sure you have access to it.</p> <li><p><strong>Check which Python interpreter / environment you’re using</strong>. Check your Python interpreter by inspecting what’s listed in #5 below and make sure you’re using the right environment. If you use a virtual environments such as a conda environment, you’ll want to select the environment in which you’ve installed the tools you need to work with. When you click this area, it will present you with a list of the environments available on your system. Select the environment you wish to use to run your code. This is a common source of error in getting code to work: if the correct environment is not selected, your code will not work properly.</p> <li><p><strong>Test some simple code</strong>. Hit run (#5 below) to test your code and see if it gives you any output. A simple statement can be used like <code class="docutils literal notranslate"><span class=pre >print("It</span> <span class=pre >works!")</span></code> as shown below that can help to verify that your Python interpreter is doing its job (as evidenced in #6 below).</p> </ul> <img alt="numbered image of vscode buttons" src="../_images/preliminaries.png"/> <section id=1.-VS-Code-Debugger-for-.py-files > <h3 id=1.-VS-Code-Debugger-for-.py-files >1. VS Code Debugger for <code class="docutils literal notranslate"><span class=pre >.py</span></code> files<a class=headerlink  href="#1.-VS-Code-Debugger-for-.py-files" title="Permalink to this headline">¶</a></h3> <p>Debugging in VS Code allows us to interactively explore how the code is executing line-by-line and variable-by-variable. To start debugging, we first need to activate the debugging environment in VS Code (#1) which brings up the “Run and Debug” button, which we can use to launch a debug session. If we click this button it will run the code and stop of there are any runtime errors. However, this will not pause the code unless a runtime error is encountered, so logical errors that produce erroneous outputs will be analyzed just by pressing the button.</p> <img alt="debug start" src="../_images/debug_start.png"/> <p>To resolve this issue, we need to set breakpoint (#1). Breakpoints are conditions that if the code reaches such a condition, the code will pause. The default breakpoint is for “Uncaught Exceptions” although we can add to that list breakpoints at any point in the code. For example if we click on the “gutter” (the space to the left of the line numbers, as shown in #2), we activate a breakpoint which means that when the execution of the code reaches that line it will pause and show you the state of all the variables in the code, which is incredibly useful (giving us the information we previously achieved through <code class="docutils literal notranslate"><span class=pre >print()</span></code> statements). We can activate multiple breakpoints and the program will pause execution anytime a line with a breakpoint is encountered. To remove a breakpoint, just click on the red dot or uncheck the box in the breakpoints panel (#1) to temporarily deactivate it.</p> <img alt="break points" src="../_images/debug_breakpoints.png"/> <p>The first time we click “Run and Debug” it will ask us to choose a debug configuration. While these can be customized, we typically want to use the standard “Python File” option.</p> <img alt=config  src="../_images/debug_select_configuration.png"/> <p>Once we’ve launched a debug session, that’s when the real power of the tool becomes clear as shown in the figure below. Let’s walk through each of the components as shown in the figure below:</p> <ol class="arabic simple"> <li><p><strong>Debug controls</strong>. This is the main set of tools for debugging and includes the option to (a) <em>continue</em> execution until the next breakpoint is reached or if execution terminates, (b) <em>step over</em> and stop at the next line of code - doing this allows you to execute the code line-by-line, (c) <em>step into</em> a function and show the execution within that function rather than in the parent function, (d) <em>step out</em> of a child function back up to the parent function, (e) <em>restart</em> execution, and (f) <em>stop</em> execution immediately. These controls allow us to carefully navigate through a function to explore its operation.</p> <li><p><strong>Execution line indicator</strong>. This tells us the next line that will be executed once execution continues.</p> <li><p><strong>Variable explorer panel</strong>. This shows a list of all panels either in the local scope (e.g. the current function, in this case <code class="docutils literal notranslate"><span class=pre >factorial()</span></code>). This also lists all of the variables in the global scope, such as <code class="docutils literal notranslate"><span class=pre >num</span></code> here, which are not within any function. This may be one of the most important tools in the toolbox. We can look at each and every one of the variables in our code and as we step through the code execution, see how the variables change. We can even click on these values in this variable explorer and change them, which changes them in memory as well. This can be useful if we want to see if changing a value fixes a problem in our code, for example.</p> <li><p><strong>Watch panel</strong>. This panel allows us to create custom expressions that are evaluated throughout the execution of the program to monitor them throughout. Imagine we had a function that had 1,000 variables and we only were interested in watching how a few of them changed—in this case we could add those variables to the watchlist and have them updated at each step in our debugging process.</p> <li><p><strong>Call stack</strong>. The call stack shows the different functions that are run here and as the program steps into each function, the local scope is changed to that function’s scope and the function is added to the call stack. If we click on the different items in the call stack, it will show us the current point of execution in each.</p> <li><p><strong>Debug console</strong>. The debug console allows us to interact with the variables at any step in the execution for which execution is paused. This can be incredibly issue to diagnose potential issues in the program because it allows full interactive access to the current state of the variables in the midst of execution.</p> </ol> <img alt="debug menu" src="../_images/debug_menu.png"/> <p>Let’s walk through an example of using the debugging tool as shown below. Here we can see that the debugger pauses execution at the breakpoint set at line 6. As we step through execution, we can see the variables <code class="docutils literal notranslate"><span class=pre >fact</span></code> and <code class="docutils literal notranslate"><span class=pre >i</span></code> changing as execution continues and it becomes clear that i takes on the value of 0 initially, forcing <code class="docutils literal notranslate"><span class=pre >fact</span></code> to 0 and that value propagates through until it is returned. This allows us to easily see the source of the error without the need of modifying the content of the code at all!</p> <img alt="debug step" src="../_images/anim_debugger_step.gif"/> <p>Additionally, we could set a watch on variables <code class="docutils literal notranslate"><span class=pre >i</span></code> and <code class="docutils literal notranslate"><span class=pre >fact</span></code> or even on the product of <code class="docutils literal notranslate"><span class=pre >i</span></code> and <code class="docutils literal notranslate"><span class=pre >fact</span></code>:</p> <img alt=watch  src="../_images/anim_debugging_watch.gif"/> <p>This tool can be particularly useful when dealing exploring matrices, which we can explore through the data viewer in the variable explorer.</p> <img alt=data_viewer  src="../_images/data_viewer.png"/> <p>The data viewer can be used to explore the data in a matrix including sorting and filtering by column:</p> <img alt="debug viewer" src="../_images/anim_debugging_data_viewer.gif"/> <p>Additionally, we can interact with any of the variables in the program using the debugger console as shown here evaluating <code class="docutils literal notranslate"><span class=pre >i</span></code>, <code class="docutils literal notranslate"><span class=pre >fact</span></code>, and <code class="docutils literal notranslate"><span class=pre >i*fact</span></code>. We can also introduce new variables directly into the current scope. To give an example, we’ll add <code class="docutils literal notranslate"><span class=pre >y</span> <span class=pre >=</span> <span class=pre >27</span></code> and <code class="docutils literal notranslate"><span class=pre >z</span> <span class=pre >=</span> <span class=pre >[1,</span> <span class=pre >2,</span> <span class=pre >3,</span> <span class=pre >4]</span></code>. We can even edit those variables in the variable explorer and if any other variables relied upon them in the program, it would use the new values we input.</p> <img alt="debug console" src="../_images/anim_debugging_console.gif"/> <p>One last handy feature of the debugger is that one a breakpoint is activated, if you hover over a variable, you will be able to see it’s contents in a small tooltip box that appears near your cursor. For example:</p> <img alt="debug hover" src="../_images/anim_debugging_hover.gif"/> <p>This suite of debugging tools is incredibly useful for debugging complicated programs and as you can see, it requires no additional code to be added! What’s most valuable about these tools is that they quickly give you insights into how a program is running and allows you to explore the logic of the code interactively.</p> </section> <section id="2.-VS-Code-Debugger-for-.ipynb-files-(Jupyter-notebooks)"> <h3 id="2.-VS-Code-Debugger-for-.ipynb-files-(Jupyter-notebooks)">2. VS Code Debugger for <code class="docutils literal notranslate"><span class=pre >.ipynb</span></code> files (Jupyter notebooks)<a class=headerlink  href="#2.-VS-Code-Debugger-for-.ipynb-files-(Jupyter-notebooks)" title="Permalink to this headline">¶</a></h3> <p>Another major advantage of VS Code is that it provides many of the same debugging features for Jupyter notebooks. For example, you can activate breakpoints in any code cell (#1), run as a debug session using the small downward pointing arrow next to the run button (#2) or even just quickly run one line at a time in a cell using the run-by-line button.</p> <img alt="debug jupyter" src="../_images/debugger_jupyter.png"/> <p>Let’s replicate the debugging process that we used previously in this Jupyter session showing the interactive tools, the debugging console, the variable watch list, and the ability to hover over values and see their contents:</p> <img alt="jupyter animation" src="../_images/anim_debugging_jupyter.gif"/> <p>The last Jupyter debugging feature to mention here is the line-by-line execution button. While not incorporating the use of breakpoints as the previously described features, this tool gives you the abilities to view and watch variables through line-by-line execution, just as before. We also show another Jupyter tool that can be helpful for debugging, which is the Jupyter:variables console. This is similar to the debugging variable explorer, but is available outside of a debugging session, which makes it highly useful for debugging issues in Jupyter notebooks. Jupyter:variables consoles also have access to the data viewer tool we discussed earlier - extremely helpful for exploring matrices.</p> <img alt="jupyter line" src="../_images/anim_debugging_jupyter_line.gif"/> </section> </section> <section id=Debugging-Summary > <h2 id=Debugging-Summary >Debugging Summary<a class=headerlink  href="#Debugging-Summary" title="Permalink to this headline">¶</a></h2> <ol class="arabic simple"> <li><p>There are two primary types of bugs: syntax errors and logical errors. Syntax errors typically prevent your code from running, so are more easily identified, while logical errors may cause your code to fail silently: producing output, but incorrect output.</p> <li><p>The best debugging tool is the one that helps you understand what’s going on in your code well enough to identify and resolve errors.</p> <li><p><code class="docutils literal notranslate"><span class=pre >print()</span></code> statements can be effectively used for debugging Python, but they require editing code directly, which is often undesirable, and can be cumbersome to use when the code is complex.</p> <li><p>VS Code offers extremely powerful tools for debugging <code class="docutils literal notranslate"><span class=pre >.py</span></code> files that allows you to watch the values of variables at any point in execution, execute custom code at any point in the program interactively, create breakpoints when and where you need them to pause the program, view the contents of matrices (and sort/filter) to inspect every detail of your code, and to step through, line-by-line or run until the nearest breakpoint.</p> <li><p>Most of the VS Code tools for debugging <code class="docutils literal notranslate"><span class=pre >.py</span></code> files can also be applied to Jupyter notebooks (<code class="docutils literal notranslate"><span class=pre >.ipynb</span></code> files). Additionally, Jupyter notebooks give you access the the Jupyter:variables console, which gives you access to the state of the variables at all times, even outside of a debugging session.</p> </ol> </section> </section> </article> </div> </div> </main> </div> <footer class=md-footer > <div class=md-footer-nav > <nav class="md-footer-nav__inner md-grid"> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright > <div class=md-footer-copyright__highlight > &#169; Copyright 2021, Nick Eubank. </div> Created using <a href="http://www.sphinx-doc.org/">Sphinx</a> 4.5.0. and <a href="https://github.com/bashtage/sphinx-material/">Material for Sphinx</a> </div> </div> </div> </footer> <script src="../_static/javascripts/application.js"></script> <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>