<!DOCTYPE html> <meta charset=utf-8  /> <meta name=viewport  content="width=device-width, initial-scale=1.0" /><meta name=generator  content="Docutils 0.17.1: http://docutils.sourceforge.net/" /> <meta name=viewport  content="width=device-width,initial-scale=1"> <meta http-equiv=x-ua-compatible  content="ie=edge"> <meta name="lang:clipboard.copy" content="Copy to clipboard"> <meta name="lang:clipboard.copied" content="Copied to clipboard"> <meta name="lang:search.language" content=en > <meta name="lang:search.pipeline.stopwords" content=True > <meta name="lang:search.pipeline.trimmer" content=True > <meta name="lang:search.result.none" content="No matching documents"> <meta name="lang:search.result.one" content="1 matching document"> <meta name="lang:search.result.other" content="# matching documents"> <meta name="lang:search.tokenizer" content="[\s\-]+"> <link href="https://fonts.gstatic.com/" rel=preconnect  crossorigin> <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel=stylesheet > <style> body, input { font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif } code, kbd, pre { font-family: "Roboto Mono", "Courier New", Courier, monospace } </style> <link rel=stylesheet  href="../_static/stylesheets/application.css"/> <link rel=stylesheet  href="../_static/stylesheets/application-palette.css"/> <link rel=stylesheet  href="../_static/stylesheets/application-fixes.css"/> <link rel=stylesheet  href="../_static/fonts/material-icons.css"/> <meta name=theme-color  content="#2196f3"> <script src="../_static/javascripts/modernizr.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XX133829453-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-XX133829453-1'); </script> <title>Pandas Series &#8212; Practical Data Science</title> <link rel=stylesheet  type="text/css" href="../_static/pygments.css" /> <link rel=stylesheet  type="text/css" href="../_static/material.css" /> <script data-url_root="../" id=documentation_options  src="../_static/documentation_options.js"></script> <script src="../_static/jquery.js"></script> <script src="../_static/underscore.js"></script> <script src="../_static/doctools.js"></script> <script crossorigin=anonymous  integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script> <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script> <script defer=defer  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> <link rel="shortcut icon" href="../_static/mids_logo.svg"/> <link rel=index  title=Index  href="../genindex.html" /> <link rel=search  title=Search  href="../search.html" /> <body dir=ltr data-md-color-primary=blue-grey data-md-color-accent=blue> <svg class=md-svg > <defs data-children-count=0 > <svg xmlns="http://www.w3.org/2000/svg" width=416  height=448  viewBox="0 0 416 448" id=__github ><path fill=currentColor  d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle  data-md-toggle=drawer  type=checkbox  id=__drawer > <input class=md-toggle  data-md-toggle=search  type=checkbox  id=__search > <label class=md-overlay  data-md-component=overlay  for=__drawer ></label> <a href="#40_pandas_basics/10_pandas_series" tabindex=1  class=md-skip > Skip to content </a> <header class=md-header  data-md-component=header > <nav class="md-header-nav md-grid"> <div class="md-flex navheader"> <div class="md-flex__cell md-flex__cell--shrink"> <a href="../index.html" title="Practical Data Science" class="md-header-nav__button md-logo"> <img src="../_static/mids_logo.svg" height=26  alt="Practical Data Science logo"> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer ></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title > <span class=md-header-nav__topic >Practical Data Science</span> <span class=md-header-nav__topic > Pandas Series </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search ></label> <div class=md-search  data-md-component=search  role=dialog > <label class=md-search__overlay  for=__search ></label> <div class=md-search__inner  role=search > <form class=md-search__form  action="../search.html" method=get  name=search > <input type=text  class=md-search__input  name=q  placeholder=""Search"" autocapitalize=off  autocomplete=off  spellcheck=false  data-md-component=query  data-md-state=active > <label class="md-icon md-search__icon" for=__search ></label> <button type=reset  class="md-icon md-search__icon" data-md-component=reset  tabindex=-1 > &#xE5CD; </button> </form> <div class=md-search__output > <div class=md-search__scrollwrap  data-md-scrollfix> <div class=md-search-result  data-md-component=result > <div class=md-search-result__meta > Type to start searching </div> <ol class=md-search-result__list ></ol> </div> </div> </div> </div> </div> </div> <script src="../_static/javascripts/version_dropdown.js"></script> <script> var json_loc = "../"versions.json"", target_loc = "../../", text = "Versions"; $( document ).ready( add_version_dropdown(json_loc, target_loc, text)); </script> </div> </nav> </header> <div class=md-container > <nav class=md-tabs  data-md-component=tabs > <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list > <li class=md-tabs__item ><a href="../index.html" class=md-tabs__link >Home</a> <li class=md-tabs__item ><a href="../class_schedule.html" class=md-tabs__link >Class Schedule</a> <li class=md-tabs__item ><a href="../topic_list.html" class=md-tabs__link >Topic List</a> <li class=md-tabs__item ><a href="https://www.nickeubank.com" class=md-tabs__link >About The Author</a> </ul> </div> </nav> <main class=md-main > <div class="md-main__inner md-grid" data-md-component=container > <div class="md-sidebar md-sidebar--primary" data-md-component=navigation > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--primary" data-md-level=0 > <label class="md-nav__title md-nav__title--site" for=__drawer > <a href="../index.html" title="Practical Data Science" class="md-nav__button md-logo"> <img src="../_static/mids_logo.svg" alt=" logo" width=48  height=48 > </a> <a href="../index.html" title="Practical Data Science">Practical Data Science</a> </label> <ul class=md-nav__list > <li class=md-nav__item > <a href="../class_schedule.html" class=md-nav__link >Class Schedule</a> <li class=md-nav__item > <a href="../autograder_guidelines.html" class=md-nav__link >Autograder Guidelines</a> <li class=md-nav__item > <a href="../not_a_mids_student.html" class=md-nav__link >Not a MIDS Student?</a> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--secondary"> <label class=md-nav__title  for=__toc >"Contents"</label> <ul class=md-nav__list  data-md-scrollfix=""> <li class=md-nav__item ><a href="#40-pandas-basics-10-pandas-series--page-root" class=md-nav__link >Pandas Series</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#What-is-a-Series?" class=md-nav__link >What is a Series?</a> <li class=md-nav__item ><a href="#Creating-a-series" class=md-nav__link >Creating a series</a> <li class=md-nav__item ><a href="#Indices" class=md-nav__link >Indices</a> </ul> </nav> <li class=md-nav__item ><a href="#Relationship-to-numpy-Arrays" class=md-nav__link >Relationship to <code class="docutils literal notranslate"><span class=pre >numpy</span></code> Arrays</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#Types-of-Series" class=md-nav__link >Types of Series</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#Converting-datatypes" class=md-nav__link >Converting datatypes</a> </ul> </nav> <li class=md-nav__item ><a href="#Computation-with-Series" class=md-nav__link >Computation with Series</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#Index-Alignment:-Matching-Entries-Using-Index-Values" class=md-nav__link >Index Alignment: Matching Entries Using Index Values</a> <li class=md-nav__item ><a href="#Summarizing-with-Functions" class=md-nav__link >Summarizing with Functions</a> </ul> </nav> <li class=md-nav__item ><a href="#Summary" class=md-nav__link >Summary</a> </ul> </nav> </ul> </nav> </div> </div> </div> <div class=md-content > <article class="md-content__inner md-typeset" role=main > <style> /* CSS for nbsphinx extension */ /* remove conflicting styling from Sphinx themes */ div.nbinput.container div.prompt *, div.nboutput.container div.prompt *, div.nbinput.container div.input_area pre, div.nboutput.container div.output_area pre, div.nbinput.container div.input_area .highlight, div.nboutput.container div.output_area .highlight { border: none; padding: 0; margin: 0; box-shadow: none; } div.nbinput.container > div[class*=highlight], div.nboutput.container > div[class*=highlight] { margin: 0; } div.nbinput.container div.prompt *, div.nboutput.container div.prompt * { background: none; } div.nboutput.container div.output_area .highlight, div.nboutput.container div.output_area pre { background: unset; } div.nboutput.container div.output_area div.highlight { color: unset; /* override Pygments text color */ } /* avoid gaps between output lines */ div.nboutput.container div[class*=highlight] pre { line-height: normal; } /* input/output containers */ div.nbinput.container, div.nboutput.container { display: -webkit-flex; display: flex; align-items: flex-start; margin: 0; width: 100%; } @media (max-width: 540px) { div.nbinput.container, div.nboutput.container { flex-direction: column; } } /* input container */ div.nbinput.container { padding-top: 5px; } /* last container */ div.nblast.container { padding-bottom: 5px; } /* input prompt */ div.nbinput.container div.prompt pre { color: #307FC1; } /* output prompt */ div.nboutput.container div.prompt pre { color: #BF5B3D; } /* all prompts */ div.nbinput.container div.prompt, div.nboutput.container div.prompt { width: 4.5ex; padding-top: 5px; position: relative; user-select: none; } div.nbinput.container div.prompt > div, div.nboutput.container div.prompt > div { position: absolute; right: 0; margin-right: 0.3ex; } @media (max-width: 540px) { div.nbinput.container div.prompt, div.nboutput.container div.prompt { width: unset; text-align: left; padding: 0.4em; } div.nboutput.container div.prompt.empty { padding: 0; } div.nbinput.container div.prompt > div, div.nboutput.container div.prompt > div { position: unset; } } /* disable scrollbars on prompts */ div.nbinput.container div.prompt pre, div.nboutput.container div.prompt pre { overflow: hidden; } /* input/output area */ div.nbinput.container div.input_area, div.nboutput.container div.output_area { -webkit-flex: 1; flex: 1; overflow: auto; } @media (max-width: 540px) { div.nbinput.container div.input_area, div.nboutput.container div.output_area { width: 100%; } } /* input area */ div.nbinput.container div.input_area { border: 1px solid #e0e0e0; border-radius: 2px; /*background: #f5f5f5;*/ } /* override MathJax center alignment in output cells */ div.nboutput.container div[class*=MathJax] { text-align: left !important; } /* override sphinx.ext.imgmath center alignment in output cells */ div.nboutput.container div.math p { text-align: left; } /* standard error */ div.nboutput.container div.output_area.stderr { background: #fdd; } /* ANSI colors */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-default-inverse-fg { color: #FFFFFF; } .ansi-default-inverse-bg { background-color: #000000; } .ansi-bold { font-weight: bold; } .ansi-underline { text-decoration: underline; } div.nbinput.container div.input_area div[class*=highlight] > pre, div.nboutput.container div.output_area div[class*=highlight] > pre, div.nboutput.container div.output_area div[class*=highlight].math, div.nboutput.container div.output_area.rendered_html, div.nboutput.container div.output_area > div.output_javascript, div.nboutput.container div.output_area:not(.rendered_html) > img{ padding: 5px; margin: 0; } /* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */ div.nbinput.container div.input_area > div[class^='highlight'], div.nboutput.container div.output_area > div[class^='highlight']{ overflow-y: hidden; } /* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */ .prompt .copybtn { display: none; } /* Some additional styling taken form the Jupyter notebook CSS */ .jp-RenderedHTMLCommon table, div.rendered_html table { border: none; border-collapse: collapse; border-spacing: 0; color: black; font-size: 12px; table-layout: fixed; } .jp-RenderedHTMLCommon thead, div.rendered_html thead { border-bottom: 1px solid black; vertical-align: bottom; } .jp-RenderedHTMLCommon tr, .jp-RenderedHTMLCommon th, .jp-RenderedHTMLCommon td, div.rendered_html tr, div.rendered_html th, div.rendered_html td { text-align: right; vertical-align: middle; padding: 0.5em 0.5em; line-height: normal; white-space: normal; max-width: none; border: none; } .jp-RenderedHTMLCommon th, div.rendered_html th { font-weight: bold; } .jp-RenderedHTMLCommon tbody tr:nth-child(odd), div.rendered_html tbody tr:nth-child(odd) { background: #f5f5f5; } .jp-RenderedHTMLCommon tbody tr:hover, div.rendered_html tbody tr:hover { background: rgba(66, 165, 245, 0.2); } </style> <section id=Pandas-Series > <h1 id=40-pandas-basics-10-pandas-series--page-root >Pandas Series<a class=headerlink  href="#40-pandas-basics-10-pandas-series--page-root" title="Permalink to this headline">¶</a></h1> <p>This tutorial introduces the fundamental building block of <code class="docutils literal notranslate"><span class=pre >pandas</span></code>, the Series. By the end of this section, you will learn how to create different types of Series, subset them, modify them, and summarize them.</p> <section id="What-is-a-Series?"> <h2 id="What-is-a-Series?">What is a Series?<a class=headerlink  href="#What-is-a-Series?" title="Permalink to this headline">¶</a></h2> <p>In the simplest terms, a Series is an ordered collection of values, generally all the same type. As examples of what you can do with a series, you can have a Series that contains the ages of everyone in your class (a numeric Series), or a Series of all the names of people in your family (a string Series).</p> <p>This may sound familiar: isn’t that how we described <code class="docutils literal notranslate"><span class=pre >numpy</span></code> vectors (i.e. one-dimensional numpy arrays)? Yes! In fact, Series are basically one-dimensional <code class="docutils literal notranslate"><span class=pre >numpy</span></code> arrays with lots of extra features added on top of them. As we’ll see, almost everything you could do with a <code class="docutils literal notranslate"><span class=pre >numpy</span></code> array you can do with a Series; Series can just do <em>more</em>. In particular, the Series provides the option to use an explicit index (rather than only using the row numbers), as well as some querying and analysis tools which we’ll discuss through this course.</p> <p>Series are central to <code class="docutils literal notranslate"><span class=pre >pandas</span></code> because <code class="docutils literal notranslate"><span class=pre >pandas</span></code> was designed for statistics, and Series are a perfect way to collect lots of different observations of a variable. We’ll see that the apex of <code class="docutils literal notranslate"><span class=pre >pandas</span></code> functionality which is found in DataFrames is essentially a collection of Series. Understanding Series will enable you to better understand DataFrames and their value for programming for data science.</p> </section> <section id=Creating-a-series > <h2 id=Creating-a-series >Creating a series<a class=headerlink  href="#Creating-a-series" title="Permalink to this headline">¶</a></h2> <p>There are lots of ways to create Series, but the easiest is to just pass a list or an array to the <code class="docutils literal notranslate"><span class=pre >pd.Series</span></code> constructor.</p> <p>To illustrate, let me tell you about a week at the zoo I wish I owned. Here’s what attendance looked like at my zoo last week:</p> <table> <colgroup> <col style="width: 52%"/> <col style="width: 48%"/> <thead> <tr class=row-odd ><th class=head ><p>Day of Week</p> <th class=head ><p>Attendees</p> <tr class=row-even ><td><p>Monday</p> <td><p>132 people</p> <tr class=row-odd ><td><p>Tuesday</p> <td><p>94 people</p> <tr class=row-even ><td><p>Wednesday</p> <td><p>112 people</p> <tr class=row-odd ><td><p>Thursday</p> <td><p>84 people</p> <tr class=row-even ><td><p>Friday</p> <td><p>254 people</p> <tr class=row-odd ><td><p>Saturday</p> <td><p>322 people</p> <tr class=row-even ><td><p>Sunday</p> <td><p>472 people</p> </table> <p>Let’s make a Series for this attendance pattern:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[1]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=kn >import</span> <span class=nn >pandas</span> <span class=k >as</span> <span class=nn >pd</span>  <span class=c1 ># We have to import pandas to use Series!</span>

<span class=n >attendance</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >([</span><span class=mi >132</span><span class=p >,</span> <span class=mi >94</span><span class=p >,</span> <span class=mi >112</span><span class=p >,</span> <span class=mi >84</span><span class=p >,</span> <span class=mi >254</span><span class=p >,</span> <span class=mi >322</span><span class=p >,</span> <span class=mi >472</span><span class=p >])</span>
<span class=n >attendance</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[1]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
0    132
1     94
2    112
3     84
4    254
5    322
6    472
dtype: int64
</pre></div></div> </div> </section> <section id=Indices > <h2 id=Indices >Indices<a class=headerlink  href="#Indices" title="Permalink to this headline">¶</a></h2> <p>One of the fundamental differences between <code class="docutils literal notranslate"><span class=pre >numpy</span></code> arrays and Series is that all Series are associated with an <code class="docutils literal notranslate"><span class=pre >index</span></code>. An index is a set of labels for each observation in a Series. If you don’t specify an <code class="docutils literal notranslate"><span class=pre >index</span></code> when you create a Series, <code class="docutils literal notranslate"><span class=pre >pandas</span></code> will create a default index that just labels each row with its initial row number, but you can specify an index if you want. When we explored lists and <code class="docutils literal notranslate"><span class=pre >numpy</span></code> arrays, we also encountered indices that were used to access individual elements. For 2-dimensional arrays or less, these were essentially the row numbers. These implicit indices of the row numbers are also options in Series, but there’s the option to explicitly label your indices in ways that can make your data easier to analyze.</p> <p>In the case below, for example, we know that these entries are associated with different days of the week, so let’s specify an index for our <code class="docutils literal notranslate"><span class=pre >attendance</span></code> Series:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[2]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >attendance</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >(</span>
    <span class=p >[</span><span class=mi >132</span><span class=p >,</span> <span class=mi >94</span><span class=p >,</span> <span class=mi >112</span><span class=p >,</span> <span class=mi >84</span><span class=p >,</span> <span class=mi >254</span><span class=p >,</span> <span class=mi >322</span><span class=p >,</span> <span class=mi >472</span><span class=p >],</span>
    <span class=n >index</span><span class=o >=</span><span class=p >[</span>
        <span class=s2 >"Monday"</span><span class=p >,</span>
        <span class=s2 >"Tuesday"</span><span class=p >,</span>
        <span class=s2 >"Wednesday"</span><span class=p >,</span>
        <span class=s2 >"Thursday"</span><span class=p >,</span>
        <span class=s2 >"Friday"</span><span class=p >,</span>
        <span class=s2 >"Saturday"</span><span class=p >,</span>
        <span class=s2 >"Sunday"</span><span class=p >,</span>
    <span class=p >],</span>
<span class=p >)</span>
<span class=n >attendance</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[2]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
Monday       132
Tuesday       94
Wednesday    112
Thursday      84
Friday       254
Saturday     322
Sunday       472
dtype: int64
</pre></div></div> </div> <p>Now as we see the rows are labeled with days of the week on the left side, rather than with initial row numbers.</p> <p>Note that you can always access a Series’ index with the <code class="docutils literal notranslate"><span class=pre >.index</span></code> property:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[3]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >attendance</span><span class=o >.</span><span class=n >index</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[3]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
Index(['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday',
       'Sunday'],
      dtype='object')
</pre></div></div> </div> <p>An important property of index labels is that they stay with each row, even if you sort your data. So if I sort my Series by attendance, not only will rows re-order, but so will the index labels:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[4]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >attendance</span> <span class=o >=</span> <span class=n >attendance</span><span class=o >.</span><span class=n >sort_values</span><span class=p >()</span>
<span class=n >attendance</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[4]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
Thursday      84
Tuesday       94
Wednesday    112
Monday       132
Friday       254
Saturday     322
Sunday       472
dtype: int64
</pre></div></div> </div> <p><strong>Note:</strong> This seems intuitive with days-of-the-week as our index labels, but it can be confusing when your <code class="docutils literal notranslate"><span class=pre >index</span></code> starts its life as the default index — the Series’ initial row numbers. For example, if you had not changed our index to be days of the week, then the default index would look like the index labels were just row numbers. But if we then <em>sort</em> the Series, the numbers will shuffle, and they will no longer correspond to row numbers:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[5]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >attendance</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >([</span><span class=mi >132</span><span class=p >,</span> <span class=mi >94</span><span class=p >,</span> <span class=mi >112</span><span class=p >,</span> <span class=mi >84</span><span class=p >,</span> <span class=mi >254</span><span class=p >,</span> <span class=mi >322</span><span class=p >,</span> <span class=mi >472</span><span class=p >])</span>
<span class=n >attendance</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[5]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
0    132
1     94
2    112
3     84
4    254
5    322
6    472
dtype: int64
</pre></div></div> </div> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[6]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >attendance</span> <span class=o >=</span> <span class=n >attendance</span><span class=o >.</span><span class=n >sort_values</span><span class=p >()</span>
<span class=n >attendance</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[6]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
3     84
1     94
2    112
0    132
4    254
5    322
6    472
dtype: int64
</pre></div></div> </div> </section> </section> <section id=Relationship-to-numpy-Arrays > <h1 id=Relationship-to-numpy-Arrays >Relationship to <code class="docutils literal notranslate"><span class=pre >numpy</span></code> Arrays<a class=headerlink  href="#Relationship-to-numpy-Arrays" title="Permalink to this headline">¶</a></h1> <p>As you’ve probably noted, there are some similarities in the construction of <code class="docutils literal notranslate"><span class=pre >pandas</span></code> Series with how we constructed <code class="docutils literal notranslate"><span class=pre >numpy</span></code> arrays. The biggest difference is the index. In the figure below we can see the code to construct both a <code class="docutils literal notranslate"><span class=pre >numpy</span></code> array and a <code class="docutils literal notranslate"><span class=pre >pandas</span></code> Series containing the same entries, however, we can also add a1 explicit index labels that may be easier for us to read or to use to access the row contents. For example, if we were representing financial data for three days of a week: ‘mon’, tue’, and ‘wed’, we may be able to do this as shown in the figure below. Once we’ve created our <code class="docutils literal notranslate"><span class=pre >pandas</span></code> Series, we can return a <code class="docutils literal notranslate"><span class=pre >numpy</span></code> array. If <code class="docutils literal notranslate"><span class=pre >b</span></code> contains a <code class="docutils literal notranslate"><span class=pre >pandas</span></code> Series, then we can return a <code class="docutils literal notranslate"><span class=pre >numpy</span></code> array with <code class="docutils literal notranslate"><span class=pre >b.values</span></code>.</p> <img alt="pandas series v numpy" src="../_images/3.2.10-pandas_series.png"/> <p>While we will discuss how to access the data in these data structures in more detail in the next lesson, we can rather easily access an entry using the index or its assigned label. There is some nuance in using row numbers since as we saw above with the <code class="docutils literal notranslate"><span class=pre >sort_values()</span></code> example, the default ordering of row number-based indices can change, so the <code class="docutils literal notranslate"><span class=pre >iloc</span></code> method will allow us to always return the <span class="math notranslate nohighlight">\(i^{th}\)</span> entry regardless of how the Series has been sorted. More on that later, though…</p> <p>Going forward, we want to be crystal clear when we’re discussing <code class="docutils literal notranslate"><span class=pre >pandas</span></code> Series or DataFrames instead of when we are talking about <code class="docutils literal notranslate"><span class=pre >numpy</span></code> arrays. Pictorially, we’ll represent those as little tables as shown below with their key characteristics labeled:</p> <img alt="pandas series components" src="../_images/3.2.10-pandas_series_anatomy.png"/> <blockquote> <div><p><strong>Note</strong>: Starting with the release of pandas version 2.0 in 2023, <code class="docutils literal notranslate"><span class=pre >numpy</span></code> arrays are no longer the only way data can be stored on the back-end by <code class="docutils literal notranslate"><span class=pre >pandas</span></code>. However, <code class="docutils literal notranslate"><span class=pre >numpy</span></code> arrays are still the default way data is stored in <code class="docutils literal notranslate"><span class=pre >pandas</span></code>, so it is what we will use in these lessons. We will discuss the alternate back-end — <code class="docutils literal notranslate"><span class=pre >arrow</span></code> arrays — added in pandas 2.0 in a future reading.</p> </div></blockquote> <section id=Types-of-Series > <h2 id=Types-of-Series >Types of Series<a class=headerlink  href="#Types-of-Series" title="Permalink to this headline">¶</a></h2> <p>Before we dive too far into Series manipulations, it’s important to talk about datatypes. Every Series, as we will see, has a “dtype” (short for datatype). The <code class="docutils literal notranslate"><span class=pre >dtype</span></code> of a Series is important to understand because a Series’ <code class="docutils literal notranslate"><span class=pre >dtype</span></code> determines what manipulations you can apply to that series.</p> <p>There are, broadly, two types of Series:</p> <ul class=simple > <li><p>Numeric: these hold numbers that <code class="docutils literal notranslate"><span class=pre >pandas</span></code> understands are numbers. Specific numeric datatypes include things like <code class="docutils literal notranslate"><span class=pre >int64</span></code>, and <code class="docutils literal notranslate"><span class=pre >int32</span></code> (integers), or <code class="docutils literal notranslate"><span class=pre >float64</span></code> and <code class="docutils literal notranslate"><span class=pre >float32</span></code> (floating point numbers).</p> <li><p>Object: these are Series that can hold any Python object, like strings, numbers, Sets, you name it. They have dtype <code class="docutils literal notranslate"><span class=pre >O</span></code> for “objects”. They are flexible, but also very slow and actually harder to work with.</p> </ul> <p>Numeric Series are by far the easiest to work with and are generally either <em>integers</em> (<code class="docutils literal notranslate"><span class=pre >int64</span></code>, <code class="docutils literal notranslate"><span class=pre >int32</span></code>, etc.) or <em>floating point numbers</em> (<code class="docutils literal notranslate"><span class=pre >float64</span></code>, <code class="docutils literal notranslate"><span class=pre >float32</span></code>). <em>Integer</em> Series (datatypes that start with <code class="docutils literal notranslate"><span class=pre >int</span></code>) can <em>only</em> hold… well, integers (whole numbers), while <em>floating point numbers</em> Series (datatypes that start with <code class="docutils literal notranslate"><span class=pre >float</span></code>) can hold integers, numbers with decimal points, and even missing values.</p> <p>The numbers at the end of these types (<code class="docutils literal notranslate"><span class=pre >64</span></code>, <code class="docutils literal notranslate"><span class=pre >32</span></code>, etc.) have to do with how many actual bits of data are allocated to each number. For the moment, the differences between them don’t matter, and in general, you’ll likely always see (and should use) the <code class="docutils literal notranslate"><span class=pre >64</span></code> suffix.</p> <p>You can check the <code class="docutils literal notranslate"><span class=pre >dtype</span></code> of a Series by typing <code class="docutils literal notranslate"><span class=pre >.dtype</span></code>. For example, here are some different kinds of Series:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[7]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >s</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >([</span><span class=mi >1</span><span class=p >,</span> <span class=mi >2</span><span class=p >,</span> <span class=mi >3</span><span class=p >])</span>
<span class=n >s</span><span class=o >.</span><span class=n >dtype</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[7]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
dtype('int64')
</pre></div></div> </div> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[8]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >s</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >([</span><span class=mi >1</span><span class=p >,</span> <span class=mi >2</span><span class=p >,</span> <span class=mf >3.14</span><span class=p >])</span>
<span class=n >s</span><span class=o >.</span><span class=n >dtype</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[8]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
dtype('float64')
</pre></div></div> </div> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[9]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >s</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >([</span><span class=mi >1</span><span class=p >,</span> <span class=mi >2</span><span class=p >,</span> <span class=s2 >"a string"</span><span class=p >])</span>
<span class=n >s</span><span class=o >.</span><span class=n >dtype</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[9]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
dtype('O')
</pre></div></div> </div> <p>As you can see, integer (<code class="docutils literal notranslate"><span class=pre >int64</span></code>) Series can <em>only</em> hold integers. If we add one number with a decimal component, the whole thing becomes a <code class="docutils literal notranslate"><span class=pre >float64</span></code>. Similarly, floating point Series can only hold numbers. If we add a single String, the whole thing becomes an Object (<code class="docutils literal notranslate"><span class=pre >O</span></code>) type.</p> <section id=Converting-datatypes > <h3 id=Converting-datatypes >Converting datatypes<a class=headerlink  href="#Converting-datatypes" title="Permalink to this headline">¶</a></h3> <p>If you want to change the datatype of a Series, you can do so with the <code class="docutils literal notranslate"><span class=pre >.astype()</span></code> method… provided a conversion is possible! For example, you can always convert integer arrays to floating point Series because a whole number can be represented as a floating point number (just trust me on this for now… we’ll discuss why later!).</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[10]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >s</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >([</span><span class=mi >1</span><span class=p >,</span> <span class=mi >2</span><span class=p >,</span> <span class=mi >3</span><span class=p >])</span>
<span class=n >s</span> <span class=o >=</span> <span class=n >s</span><span class=o >.</span><span class=n >astype</span><span class=p >(</span><span class=s2 >"float64"</span><span class=p >)</span>
<span class=n >s</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[10]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
0    1.0
1    2.0
2    3.0
dtype: float64
</pre></div></div> </div> <p>But be careful: since integers can’t ever hold decimals, if you try and convert a floating point Series to an integer Series, it will just drop the decimal part of numbers with decimals!</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[11]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >s</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >([</span><span class=mi >1</span><span class=p >,</span> <span class=mi >2</span><span class=p >,</span> <span class=mf >3.14</span><span class=p >])</span>
<span class=n >s</span> <span class=o >=</span> <span class=n >s</span><span class=o >.</span><span class=n >astype</span><span class=p >(</span><span class=s2 >"int64"</span><span class=p >)</span>
<span class=n >s</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[11]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
0    1
1    2
2    3
dtype: int64
</pre></div></div> </div> <p>Note Pandas is just doing the same thing regular Python would do:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[12]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=nb >int</span><span class=p >(</span><span class=mf >3.14</span><span class=p >)</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[12]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
3
</pre></div></div> </div> <p>But if you try and convert an “object” Series to numeric and there are numbers that can’t be converted, <code class="docutils literal notranslate"><span class=pre >pandas</span></code> will throw an error:</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >s</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >([</span><span class=mi >1</span><span class=p >,</span> <span class=mi >2</span><span class=p >,</span> <span class=s2 >"a string"</span><span class=p >])</span>
<span class=n >s</span><span class=o >.</span><span class=n >astype</span><span class=p >(</span><span class=s1 >'float64'</span><span class=p >)</span>

<span class=o >---------------------------------------------------------------------------</span>
<span class=ne >ValueError</span>                                <span class=n >Traceback</span> <span class=p >(</span><span class=n >most</span> <span class=n >recent</span> <span class=n >call</span> <span class=n >last</span><span class=p >)</span>
<span class=o >/</span><span class=n >Users</span><span class=o >/</span><span class=n >nce8</span><span class=o >/</span><span class=n >github</span><span class=o >/</span><span class=n >practicaldatascience</span><span class=o >/</span><span class=n >source</span><span class=o >/</span><span class=mi >10</span><span class=n >_pandas_series</span><span class=o >.</span><span class=n >ipynb</span> <span class=n >Cell</span> <span class=mi >32</span> <span class=ow >in</span> <span class=o >&lt;</span><span class=n >cell</span> <span class=n >line</span><span class=p >:</span> <span class=mi >2</span><span class=o >&gt;</span><span class=p >()</span>
      <span class=mi >1</span> <span class=n >s</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >([</span><span class=mi >1</span><span class=p >,</span> <span class=mi >2</span><span class=p >,</span> <span class=s2 >"a string"</span><span class=p >])</span>
<span class=o >----&gt;</span> <span class=mi >2</span> <span class=n >s</span><span class=o >.</span><span class=n >astype</span><span class=p >(</span><span class=s1 >'float64'</span><span class=p >)</span>

<span class=o >...</span>

<span class=n >File</span> <span class=o >~/</span><span class=n >opt</span><span class=o >/</span><span class=n >miniconda3</span><span class=o >/</span><span class=n >lib</span><span class=o >/</span><span class=n >python3</span><span class=mf >.10</span><span class=o >/</span><span class=n >site</span><span class=o >-</span><span class=n >packages</span><span class=o >/</span><span class=n >pandas</span><span class=o >/</span><span class=n >core</span><span class=o >/</span><span class=n >dtypes</span><span class=o >/</span><span class=n >cast</span><span class=o >.</span><span class=n >py</span><span class=p >:</span><span class=mi >1181</span><span class=p >,</span> <span class=ow >in</span> <span class=n >astype_nansafe</span><span class=p >(</span><span class=n >arr</span><span class=p >,</span> <span class=n >dtype</span><span class=p >,</span> <span class=n >copy</span><span class=p >,</span> <span class=n >skipna</span><span class=p >)</span>
   <span class=mi >1177</span>     <span class=k >raise</span> <span class=ne >ValueError</span><span class=p >(</span><span class=n >msg</span><span class=p >)</span>
   <span class=mi >1179</span> <span class=k >if</span> <span class=n >copy</span> <span class=ow >or</span> <span class=n >is_object_dtype</span><span class=p >(</span><span class=n >arr</span><span class=o >.</span><span class=n >dtype</span><span class=p >)</span> <span class=ow >or</span> <span class=n >is_object_dtype</span><span class=p >(</span><span class=n >dtype</span><span class=p >):</span>
   <span class=mi >1180</span>     <span class=c1 ># Explicit copy, or required since NumPy can't view from / to object.</span>
<span class=o >-&gt;</span> <span class=mi >1181</span>     <span class=k >return</span> <span class=n >arr</span><span class=o >.</span><span class=n >astype</span><span class=p >(</span><span class=n >dtype</span><span class=p >,</span> <span class=n >copy</span><span class=o >=</span><span class=kc >True</span><span class=p >)</span>
   <span class=mi >1183</span> <span class=k >return</span> <span class=n >arr</span><span class=o >.</span><span class=n >astype</span><span class=p >(</span><span class=n >dtype</span><span class=p >,</span> <span class=n >copy</span><span class=o >=</span><span class=n >copy</span><span class=p >)</span>

<span class=ne >ValueError</span><span class=p >:</span> <span class=n >could</span> <span class=ow >not</span> <span class=n >convert</span> <span class=n >string</span> <span class=n >to</span> <span class=nb >float</span><span class=p >:</span> <span class=s1 >'a string'</span>
</pre></div> </div> </section> </section> <section id=Computation-with-Series > <h2 id=Computation-with-Series >Computation with Series<a class=headerlink  href="#Computation-with-Series" title="Permalink to this headline">¶</a></h2> <p>One of the nice things about Series is that, like <code class="docutils literal notranslate"><span class=pre >numpy</span></code> arrays, we can easily do things like multiply <em>all</em> the values by another number easily. For example, suppose tickets to my zoo cost $15 per person. What is the total money generated by ticket sales each day? Let’s find out!</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[13]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >attendance</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >(</span>
    <span class=p >[</span><span class=mi >132</span><span class=p >,</span> <span class=mi >94</span><span class=p >,</span> <span class=mi >112</span><span class=p >,</span> <span class=mi >84</span><span class=p >,</span> <span class=mi >254</span><span class=p >,</span> <span class=mi >322</span><span class=p >,</span> <span class=mi >472</span><span class=p >],</span>
    <span class=n >index</span><span class=o >=</span><span class=p >[</span>
        <span class=s2 >"Monday"</span><span class=p >,</span>
        <span class=s2 >"Tuesday"</span><span class=p >,</span>
        <span class=s2 >"Wednesday"</span><span class=p >,</span>
        <span class=s2 >"Thursday"</span><span class=p >,</span>
        <span class=s2 >"Friday"</span><span class=p >,</span>
        <span class=s2 >"Saturday"</span><span class=p >,</span>
        <span class=s2 >"Sunday"</span><span class=p >,</span>
    <span class=p >],</span>
<span class=p >)</span>
<span class=n >attendance</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[13]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
Monday       132
Tuesday       94
Wednesday    112
Thursday      84
Friday       254
Saturday     322
Sunday       472
dtype: int64
</pre></div></div> </div> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[14]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >revenue</span> <span class=o >=</span> <span class=n >attendance</span> <span class=o >*</span> <span class=mi >15</span>
<span class=n >revenue</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[14]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
Monday       1980
Tuesday      1410
Wednesday    1680
Thursday     1260
Friday       3810
Saturday     4830
Sunday       7080
dtype: int64
</pre></div></div> </div> <p>Now what if we want to know the total amount raised in a week, instead of just the amount on each day? We can use one of <code class="docutils literal notranslate"><span class=pre >pandas</span></code>’s many helper functions — in this case <code class="docutils literal notranslate"><span class=pre >sum</span></code> — which adds up all the values of a Series:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[15]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >revenue</span><span class=o >.</span><span class=n >sum</span><span class=p >()</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[15]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
22050
</pre></div></div> </div> <p>Cool!</p> <p>This is an example of one of the three forms of Series arithmetic:</p> <ol class="arabic simple"> <li><p>Operations involving a Series with more than one element and a single element (like multiplying all values of a Series by 15, as shown above).</p> </ol> <ol class="arabic simple"> <li><p>Modifying a Series with a function.</p> </ol> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[16]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >revenue</span><span class=o >**</span><span class=mi >2</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[16]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
Monday        3920400
Tuesday       1988100
Wednesday     2822400
Thursday      1587600
Friday       14516100
Saturday     23328900
Sunday       50126400
dtype: int64
</pre></div></div> </div> <ol class="arabic simple" start=3 > <li><p>Operations involving two Series. <strong>Note that when working with two Series, elements are matched based on index values, not row numbers (the behavior of numpy arrays)</strong>.</p> </ol> <section id="Index-Alignment:-Matching-Entries-Using-Index-Values"> <h3 id="Index-Alignment:-Matching-Entries-Using-Index-Values">Index Alignment: Matching Entries Using Index Values<a class=headerlink  href="#Index-Alignment:-Matching-Entries-Using-Index-Values" title="Permalink to this headline">¶</a></h3> <p>When doing an operation between two Series, pandas matches up entries based not on row number (like <code class="docutils literal notranslate"><span class=pre >numpy</span></code> or other programming languages like R); rather, it matches up entries based on index values, a practice called <strong>index alignment</strong>.</p> <p>This can be a bit tricky, so let’s create a pair of Series to demonstrate:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[17]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >a</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >(</span><span class=n >data</span><span class=o >=</span><span class=p >[</span><span class=mi >1</span><span class=p >,</span> <span class=mi >2</span><span class=p >,</span> <span class=mf >3.2</span><span class=p >],</span> <span class=n >index</span><span class=o >=</span><span class=p >[</span><span class=s2 >"mon"</span><span class=p >,</span> <span class=s2 >"tue"</span><span class=p >,</span> <span class=s2 >"wed"</span><span class=p >])</span>
<span class=n >a</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[17]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
mon    1.0
tue    2.0
wed    3.2
dtype: float64
</pre></div></div> </div> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[18]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >b</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >(</span><span class=n >data</span><span class=o >=</span><span class=p >[</span><span class=mf >4.0</span><span class=p >,</span> <span class=mi >5</span><span class=p >,</span> <span class=mi >6</span><span class=p >],</span> <span class=n >index</span><span class=o >=</span><span class=p >[</span><span class=s2 >"tue"</span><span class=p >,</span> <span class=s2 >"wed"</span><span class=p >,</span> <span class=s2 >"fri"</span><span class=p >])</span>
<span class=n >b</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[18]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
tue    4.0
wed    5.0
fri    6.0
dtype: float64
</pre></div></div> </div> <p>Note that the indices are not the same, although <code class="docutils literal notranslate"><span class=pre >'tue'</span></code> and <code class="docutils literal notranslate"><span class=pre >'wed'</span></code> are in both Series. Let’s multiply them together:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[19]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >c</span> <span class=o >=</span> <span class=n >a</span> <span class=o >*</span> <span class=n >b</span>
<span class=n >c</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[19]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
fri     NaN
mon     NaN
tue     8.0
wed    16.0
dtype: float64
</pre></div></div> </div> <p>Two Series multiplied together that have explicit index labels perform the operation by matching the index values. <code class="docutils literal notranslate"><span class=pre >tue</span></code> is the second entry in <code class="docutils literal notranslate"><span class=pre >a</span></code> and the first in <code class="docutils literal notranslate"><span class=pre >b</span></code>, but pandas matches them up to compute the final entry associated with <code class="docutils literal notranslate"><span class=pre >tue</span></code>: <code class="docutils literal notranslate"><span class=pre >2</span> <span class=pre >*</span> <span class=pre >4</span> <span class=pre >=</span> <span class=pre >8</span></code>.</p> <p>If an observation has an index value that doesn’t exist in the other Series (e.g., <code class="docutils literal notranslate"><span class=pre >fri</span></code> and <code class="docutils literal notranslate"><span class=pre >mon</span></code>), a <code class="docutils literal notranslate"><span class=pre >NaN</span></code> value is returned.</p> <p>Of course, with the default row number-based indices, if the data have not been sorted, they multiply element-wise as you would expect:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[20]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >a</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >(</span><span class=n >data</span><span class=o >=</span><span class=p >[</span><span class=mi >1</span><span class=p >,</span> <span class=mi >2</span><span class=p >,</span> <span class=mf >3.2</span><span class=p >])</span>
<span class=n >a</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[20]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
0    1.0
1    2.0
2    3.2
dtype: float64
</pre></div></div> </div> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[21]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >b</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >(</span><span class=n >data</span><span class=o >=</span><span class=p >[</span><span class=mf >4.0</span><span class=p >,</span> <span class=mi >5</span><span class=p >,</span> <span class=mi >6</span><span class=p >])</span>
<span class=n >b</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[21]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
0    4.0
1    5.0
2    6.0
dtype: float64
</pre></div></div> </div> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[22]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >c</span> <span class=o >=</span> <span class=n >a</span> <span class=o >*</span> <span class=n >b</span>
<span class=n >c</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[22]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
0     4.0
1    10.0
2    19.2
dtype: float64
</pre></div></div> </div> <p>Note that the types of things you can do with a Series depends on the Series <code class="docutils literal notranslate"><span class=pre >dtype</span></code>. Math functions, for example, can only be applied to numeric datatypes!</p> </section> <section id=Summarizing-with-Functions > <h3 id=Summarizing-with-Functions >Summarizing with Functions<a class=headerlink  href="#Summarizing-with-Functions" title="Permalink to this headline">¶</a></h3> <p>We often want to get summary statistics from a Series—that is, learn something general about it by looking beyond its constituent elements. If we have a Series in which each element represents a person’s height, we may want to know who the shortest or tallest person is, what the median or mean height is, what the standard deviation is, etc. Here are common summary facts for numeric Series (some also work for object types):</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >my_numbers</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >([</span><span class=mi >1</span><span class=p >,</span> <span class=mi >2</span><span class=p >,</span> <span class=mi >3</span><span class=p >,</span> <span class=mi >4</span><span class=p >])</span>

<span class=n >my_numbers</span><span class=o >.</span><span class=n >dtype</span> <span class=c1 >#check the dtype</span>
<span class=nb >len</span><span class=p >(</span><span class=n >my_numbers</span><span class=p >)</span> <span class=c1 >#number of elements</span>
<span class=n >my_numbers</span><span class=o >.</span><span class=n >max</span><span class=p >()</span> <span class=c1 >#maximum value</span>
<span class=n >my_numbers</span><span class=o >.</span><span class=n >min</span><span class=p >()</span> <span class=c1 >#minimum value</span>
<span class=n >my_numbers</span><span class=o >.</span><span class=n >sum</span><span class=p >()</span> <span class=c1 >#sum of all values in the Series</span>
<span class=n >my_numbers</span><span class=o >.</span><span class=n >mean</span><span class=p >()</span> <span class=c1 >#mean</span>
<span class=n >my_numbers</span><span class=o >.</span><span class=n >median</span><span class=p >()</span> <span class=c1 >#median</span>
<span class=n >my_numbers</span><span class=o >.</span><span class=n >var</span><span class=p >()</span> <span class=c1 >#variance</span>
<span class=n >my_numbers</span><span class=o >.</span><span class=n >std</span><span class=p >()</span> <span class=c1 >#standard deviation</span>
<span class=n >my_numbers</span><span class=o >.</span><span class=n >quantile</span><span class=p >()</span> <span class=c1 >#return specified quantile, 0.5 if none specified</span>
<span class=n >my_numbers</span><span class=o >.</span><span class=n >describe</span><span class=p >()</span> <span class=c1 >#function that contains many summary stats from above</span>
<span class=n >my_numbers</span><span class=o >.</span><span class=n >value_counts</span><span class=p >()</span> <span class=c1 ># Tabulate out all the values. Add the argument `normalize=True` to get shares in each big.</span>
</pre></div> </div> <p>Of those, two of the most powerful are <code class="docutils literal notranslate"><span class=pre >.describe()</span></code> (for numeric Series that take on lots of values):</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[23]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >my_numbers</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >(</span><span class=nb >range</span><span class=p >(</span><span class=mi >100</span><span class=p >))</span>
<span class=n >my_numbers</span><span class=o >.</span><span class=n >describe</span><span class=p >()</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[23]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
count    100.000000
mean      49.500000
std       29.011492
min        0.000000
25%       24.750000
50%       49.500000
75%       74.250000
max       99.000000
dtype: float64
</pre></div></div> </div> <p>and <code class="docutils literal notranslate"><span class=pre >.value_counts()</span></code> for numeric series with only a few unique values:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[24]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >my_numbers</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >Series</span><span class=p >([</span><span class=mi >1</span><span class=p >,</span> <span class=mi >2</span><span class=p >,</span> <span class=mi >2</span><span class=p >,</span> <span class=mi >2</span><span class=p >,</span> <span class=mi >2</span><span class=p >,</span> <span class=mi >1</span><span class=p >,</span> <span class=mi >1</span><span class=p >,</span> <span class=o >-</span><span class=mi >1</span><span class=p >,</span> <span class=o >-</span><span class=mi >1</span><span class=p >])</span>
<span class=n >my_numbers</span><span class=o >.</span><span class=n >value_counts</span><span class=p >()</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[24]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
 2    4
 1    3
-1    2
Name: count, dtype: int64
</pre></div></div> </div> <p>Note that <code class="docutils literal notranslate"><span class=pre >.value_counts()</span></code> can be combined with the <code class="docutils literal notranslate"><span class=pre >normalize=True</span></code> argument to get the share (i.e. proportion) of observations that have each unique value, rather than the count:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[25]:
</pre></div> </div> <div class="input_area highlight-ipython3 notranslate"><div class=highlight ><pre><span></span><span class=n >my_numbers</span><span class=o >.</span><span class=n >value_counts</span><span class=p >(</span><span class=n >normalize</span><span class=o >=</span><span class=kc >True</span><span class=p >)</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[25]:
</pre></div> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
 2    0.444444
 1    0.333333
-1    0.222222
Name: proportion, dtype: float64
</pre></div></div> </div> </section> </section> <section id=Summary > <h2 id=Summary >Summary<a class=headerlink  href="#Summary" title="Permalink to this headline">¶</a></h2> <p><code class="docutils literal notranslate"><span class=pre >pandas</span></code> Series are dynamic tools for representing a wide array of data types than (in general) <code class="docutils literal notranslate"><span class=pre >numpy</span></code> arrays. While <code class="docutils literal notranslate"><span class=pre >numpy</span></code> is the preferred tool for highly specialized numerical processing, <code class="docutils literal notranslate"><span class=pre >pandas</span></code> Series provide an important step towards understanding the representational and querying power of <code class="docutils literal notranslate"><span class=pre >pandas</span></code> for analyzing tabular data, which is an extremely common and important type of data for data scientists to work with. The Series introduces the idea of labeled and sortable indices which will enhance our ability to query our data. In the next lesson, we will explore how to work with the contents of a <code class="docutils literal notranslate"><span class=pre >pandas</span></code> Series.</p> </section> </section> </article> </div> </div> </main> </div> <footer class=md-footer > <div class=md-footer-nav > <nav class="md-footer-nav__inner md-grid"> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright > <div class=md-footer-copyright__highlight > &#169; Copyright 2021, Nick Eubank. </div> Created using <a href="http://www.sphinx-doc.org/">Sphinx</a> 4.5.0. and <a href="https://github.com/bashtage/sphinx-material/">Material for Sphinx</a> </div> </div> </div> </footer> <script src="../_static/javascripts/application.js"></script> <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>